# Исследование официальных шаблонов

Единый документ по исследованию официальных шаблонов (templates) и референсов, которые мы рассматриваем для интеграции в `web-core`.

Цель: извлечь из “официальных” шаблонов Payload максимум практической пользы (архитектура, env vars, сборка/тесты, БД/миграции, preview/live preview, storage) и заранее зафиксировать требования/риски для корректного деплоя в Kubernetes/GitOps (Argo CD, CNPG, централизованные секреты).

## Как мы работаем с шаблонами

- Исследуем только те шаблоны, которые ты присылаешь.
- В репозитории храним **снапшоты** шаблонов в `upstream/` (не для прямого деплоя).
- Для каждого шаблона ведём отдельный файл в `docs/research/templates/`.
- В каждом файле фиксируем:
  - что есть в шаблоне и зачем,
  - таблицу env vars и классификацию (secret / non-secret),
  - БД/миграции и требования к прод-старту,
  - сборку/тесты/CI предпосылки,
  - “что берём к себе” и “что не берём”,
  - риски и чек‑лист интеграции.

## Индекс

- Payload — шаблон `website`: `docs/research/templates/payload-website.md`
- Payload — шаблон `ecommerce`: `docs/research/templates/payload-ecommerce.md`

## Статус по решениям (из шаблонов)

- Generators (`@turbo/gen`): отложено — решим после того, как поймём, есть ли у Payload “официальный” подход/структура, и насколько генераторы дадут нам выгоду.
- Changesets: отложено — решим после анализа того, как лучше версионировать внутренние `packages/*` (если вообще нужно) при GitOps и immutable image tags.
